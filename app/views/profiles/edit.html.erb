<h1>Edit Profile</h1>

<%= form_with model: @user, url: profile_path(@user), method: :patch, local: true, multipart: true, data: { turbo: false } do |f| %>
  <% if @user.errors.any? %>
    <div class="alert alert-danger">
      <strong>There were errors with your submission:</strong>
      <ul>
        <% @user.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>
  
  <div class="mb-3">
    <%= f.label :name, "Name" %>
    <%= f.text_field :name, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :bio, "Biography" %>
    <%= f.text_area :bio, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :profile_picture_url, "Profile Picture URL" %>
    <%= f.text_field :profile_picture_url, class: "form-control", placeholder: "Enter image URL" %>
  </div>

  <div class="mb-3">
    <%= f.label :links, "Links (one per line)" %>
    <%= f.text_area :links, value: @user.links.join("\n"), class: "form-control", rows: 4, placeholder: "Add your links, one per line" %>
    <small class="form-text text-muted"></small>
  </div>

   <%#
  <div class="mb-3">
    <%= f.label :profile_picture, "Or Upload Profile Picture" 
    <%= f.file_field :profile_picture, class: "form-control" 
    <small class="form-text text-muted">You can either upload a file or provide an image URL, but not both.</small>
  </div>
  %>

  <h5>Change Password</h5>
  <div class="mb-3">
    <%= f.label :current_password, "Current Password" %>
    <%= f.password_field :current_password, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :password, "New Password" %>
    <%= f.password_field :password, class: "form-control" %>
  </div>

  <div class="mb-3">
    <%= f.label :password_confirmation, "Confirm New Password" %>
    <%= f.password_field :password_confirmation, class: "form-control" %>
  </div>

  <%= f.submit "Save Changes", class: "btn btn-primary" %>
<% end %>
