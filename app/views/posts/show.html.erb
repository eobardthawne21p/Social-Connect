<p style="color: green"><%= notice %></p>

<div>
  <h1><%= @post.title %></h1>
  <p><%= "Description: #{@post.description}" %></p>
  <p><%= image_tag(@post.image) if @post.image.present? %></p>
  <p><%= "Location: #{@post.location}" %></p>
  <p><%= "Date and Time: #{@post.timeDate}" %></p>

  <!-- Turbo Frame for Likes -->
  <%= turbo_frame_tag "like-frame" do %>
    <p>Likes: <span id="like-count"><%= @post.like.count %></span></p> <!-- Display the number of likes -->

    <% if current_user.likes.where(post_id: @post.id).first.nil? %>
      <!-- Like Button with Turbo form -->
      <%= button_to "Like", like_post_path(@post), method: :post, remote: true, data: { turbo_frame: "like-frame" }, class: "like-button" %>
    <% else %>
      <!-- Unlike Button with Turbo form -->
      <%= button_to "Unlike", unlike_post_path(@post), method: :post, remote: true, data: { turbo_frame: "like-frame" }, class: "unlike-button" %>
    <% end %>
  <% end %>
</div>

<div>
  <% if current_user == @post.user %>
    <%= link_to "Edit this post", edit_post_path(@post) %> |
  <% end %>

  <%= link_to "Back to posts", posts_path %>

  <% if current_user.admin? || current_user.moderator? || current_user == @post.user %>
    <%= button_to "Destroy this post", @post, method: :delete, data: { confirm: 'Are you sure?' }, class: 'btn btn-danger' %>
  <% end %>
</div>
